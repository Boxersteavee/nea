---
import Layout from '../layouts/Layout.astro';
---
<Layout>
    <link rel="stylesheet" href="/css/style.css">
    <div class="container">
        <div class="form">
            <button onclick="window.location.href='/login'">Login!</button>
            <button onclick="window.location.href='/register'">Register!</button>
        </div>
    </div>
</Layout>

<script>
    async function checkSession() {
        try {
            const response = await fetch('/api/checksession', {
                credentials: 'include'
            });
            if (response.status === 200) {
                window.location.href = '/home';
            }
        } catch (error) {
            // No valid session, stay on page
        }
    }

    checkSession();
</script>